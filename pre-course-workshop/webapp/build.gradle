plugins {
    id 'org.springframework.boot' version '2.2.4.RELEASE'
    id 'io.spring.dependency-management' version '1.0.9.RELEASE'
    id 'java'
    id 'application'
}

group = 'com.globalpsa'
version = '0.0.1'
sourceCompatibility = '1.8'

repositories {
    mavenCentral()
    mavenLocal()
}

dependencies {
    implementation 'org.springframework.boot:spring-boot-starter-web'
    implementation 'org.springframework.boot:spring-boot-starter-freemarker'
}

test {
    useJUnitPlatform()
}

task runWebApp(type: JavaExec) {    
    main = '-jar'
    //jvmArgs = ['-javaagent:D:/tmp/jdk/glowroot-0.13.1/glowroot.jar','-Dglowroot.agent.id=demoApp','-Dglowroot.agent.id=demoApp2']
    args = ['build/libs/com.globalpsa.webapp-0.0.1.jar']
    environment 'CONTEXT_PREFIX',''
}
